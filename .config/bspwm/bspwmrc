#!/bin/sh

export MONITOR=$(polybar -m|tail -1|sed -e 's/:.*$//g')
if [ "$MONITOR" -ne eDP1 ]; then
    xrandr --output "$MONITOR" --auto --output eDP1 --off
fi

# Start workspaces on the main monitor.
bspc monitor "$MONITOR" -d 1 2 3 4 5 6 7
bspc desktop -f 1

bspc config border_width         5
bspc config window_gap         20

bspc config split_ratio          0.50
bspc config borderless_monocle   true
bspc config gapless_monocle      true

bspc rule -a "Chromium" desktop='^2'
bspc rule -a "mpv" state=floating
bspc rule -a "Show-splash-gtk" desktop='^7' state=floating
bspc rule -a "Bitwig Studio" desktop='^7'
bspc rule -a "Spotify" desktop='^5'

xsetroot -cursor_name left_ptr &


